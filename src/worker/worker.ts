// This is the minified and stringified code of the midi-json-parser-worker package.
export const worker = `(()=>{var e={881:e=>{"use strict";e.exports=(e,t)=>{if("string"!=typeof e)throw new TypeError("expected a string");return e.trim().replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\\W/g,(e=>/[À-ž]/.test(e)?e:"-")).replace(/^-+|-+$/g,"").replace(/-{2,}/g,(e=>t&&t.condense?"-":e)).toLowerCase()}},507:e=>{var t=function(e){var t,n,r=/\\w+/.exec(e);if(!r)return"an";var o=(n=r[0]).toLowerCase(),s=["honest","hour","hono"];for(t in s)if(0==o.indexOf(s[t]))return"an";if(1==o.length)return"aedhilmnorsx".indexOf(o)>=0?"an":"a";if(n.match(/(?!FJO|[HLMNS]Y.|RY[EO]|SQU|(F[LR]?|[HL]|MN?|N|RH?|S[CHKLMNPTVW]?|X(YL)?)[AEIOU])[FHLMNRSX][A-Z]/))return"an";var i=[/^e[uw]/,/^onc?e\\b/,/^uni([^nmd]|mo)/,/^u[bcfhjkqrst][aeiou]/];for(t=0;t<i.length;t++)if(o.match(i[t]))return"a";return n.match(/^U[NK][AIEO]/)?"a":n==n.toUpperCase()?"aedhilmnorsx".indexOf(o[0])>=0?"an":"a":"aeiou".indexOf(o[0])>=0||o.match(/^y(b[lor]|cl[ea]|fere|gg|p[ios]|rou|tt)/)?"an":"a"};void 0!==e.exports?e.exports=t:window.indefiniteArticle=t}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(881),t=n.n(e),r=n(507),o=n.n(r);const s=(e,n)=>void 0===n?e:n.reduce(((e,n)=>{if("capitalize"===n){const t=e.charAt(0).toUpperCase(),n=e.slice(1);return"".concat(t).concat(n)}return"dashify"===n?t()(e):"prependIndefiniteArticle"===n?"".concat(o()(e)," ").concat(e):e}),e),i=(e,t)=>{const n=/\\\${([^.}]+)((\\.[^(]+\\(\\))*)}/g,r=[];let o=n.exec(e);for(;null!==o;){const t={modifiers:[],name:o[1]};if(void 0!==o[3]){const e=/\\.[^(]+\\(\\)/g;let n=e.exec(o[2]);for(;null!==n;)t.modifiers.push(n[0].slice(1,-2)),n=e.exec(o[2])}r.push(t),o=n.exec(e)}const i=r.reduce(((e,n)=>e.map((e=>"string"==typeof e?e.split((e=>{const t=e.name+e.modifiers.map((e=>"\\\\.".concat(e,"\\\\(\\\\)"))).join("");return new RegExp("\\\\$\\\\{".concat(t,"}"),"g")})(n)).reduce(((e,r,o)=>0===o?[r]:n.name in t?[...e,s(t[n.name],n.modifiers),r]:[...e,e=>s(e[n.name],n.modifiers),r]),[]):[e])).reduce(((e,t)=>[...e,...t]),[])),[e]);return e=>i.reduce(((t,n)=>"string"==typeof n?[...t,n]:[...t,n(e)]),[]).join("")},a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=void 0===e.code?void 0:i(e.code,t),r=void 0===e.message?void 0:i(e.message,t);return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;const s=void 0===o&&(t instanceof Error||void 0!==t.code&&"Exception"===t.code.slice(-9)),{cause:i,missingParameters:a}=s?{cause:t,missingParameters:{}}:{cause:o,missingParameters:t},c=void 0===r?new Error:new Error(r(a));return null!==i&&(c.cause=i),void 0!==n&&(c.code=n(a)),void 0!==e.status&&(c.status=e.status),c}},c=-32603,f=-32602,l=a({message:'The requested method called "\${method}" is not supported.',status:-32601}),u=a({message:'The handler of the method called "\${method}" returned no required result.',status:c}),d=a({message:'The handler of the method called "\${method}" returned an unexpected result.',status:c}),g=a({message:'The specified parameter called "portId" with the given value "\${portId}" does not identify a port connected to this worker.',status:f}),h=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,m=536870912,p=1073741824,v=new WeakMap;var w;const y=((e,t)=>n=>{const r=t.get(n);let o=void 0===r?n.size:r<p?r+1:0;if(!n.has(o))return e(n,o);if(n.size<m){for(;n.has(o);)o=Math.floor(Math.random()*p);return e(n,o)}if(n.size>h)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;n.has(o);)o=Math.floor(Math.random()*h);return e(n,o)})((w=v,(e,t)=>(w.set(e,t),t)),v),U=((e=>{})(y),new Map),b=(e,t,n)=>({...t,connect:n=>{let{port:r}=n;r.start();const o=e(r,t),s=y(U);return U.set(s,(()=>{o(),r.close(),U.delete(s)})),{result:s}},disconnect:e=>{let{portId:t}=e;const n=U.get(t);if(void 0===n)throw g({portId:t.toString()});return n(),{result:null}},isSupported:async()=>{if(await new Promise((e=>{const t=new ArrayBuffer(0),{port1:n,port2:r}=new MessageChannel;n.onmessage=t=>{let{data:n}=t;return e(null!==n)},r.postMessage(t,[t])}))){const e=n();return{result:e instanceof Promise?await e:e}}return{result:!1}}}),x=function(e,t){const n=b(x,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>!0),r=((e,t)=>async n=>{let{data:{id:r,method:o,params:s}}=n;const i=t[o];try{if(void 0===i)throw l({method:o});const t=void 0===s?i():i(s);if(void 0===t)throw u({method:o});const n=t instanceof Promise?await t:t;if(null===r){if(void 0!==n.result)throw d({method:o})}else{if(void 0===n.result)throw d({method:o});const{result:t,transferables:s=[]}=n;e.postMessage({id:r,result:t},s)}}catch(t){const{message:n,status:o=-32603}=t;e.postMessage({error:{code:o,message:n},id:r})}})(e,n);return e.addEventListener("message",r),()=>e.removeEventListener("message",r)},E=e=>e.toString(16).toUpperCase().padStart(2,"0"),M=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.byteLength-(t-e.byteOffset);const r=t+e.byteOffset,o=[],s=new Uint8Array(e.buffer,r,n);for(let e=0;e<n;e+=1)o[e]=E(s[e]);return o.join("")},O=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.byteLength-(t-e.byteOffset);const r=t+e.byteOffset,o=new Uint8Array(e.buffer,r,n);return String.fromCharCode.apply(null,o)},N=(e,t,n)=>{let r;const{offset:o,value:s}=L(e,t),i=e.getUint8(o);return r=240===i?A(e,o+1):255===i?k(e,o+1):P(i,e,o+1,n),{...r,event:{...r.event,delta:s},eventTypeByte:i}},T=e=>{if(e.byteLength<14)throw new Error("Expected at least 14 bytes instead of ".concat(e.byteLength));if("MThd"!==O(e,0,4))throw new Error('Unexpected characters "'.concat(O(e,0,4),'" found instead of "MThd"'));if(6!==e.getUint32(4))throw new Error("The header has an unexpected length of ".concat(e.getUint32(4)," instead of 6"));const t=e.getUint16(8),n=e.getUint16(10);return{division:e.getUint16(12),format:t,numberOfTracks:n}},k=(e,t)=>{let n;const r=e.getUint8(t),{offset:o,value:s}=L(e,t+1);if(1===r)n={text:O(e,o,s)};else if(2===r)n={copyrightNotice:O(e,o,s)};else if(3===r)n={trackName:O(e,o,s)};else if(4===r)n={instrumentName:O(e,o,s)};else if(5===r)n={lyric:O(e,o,s)};else if(6===r)n={marker:O(e,o,s)};else if(7===r)n={cuePoint:O(e,o,s)};else if(8===r)n={programName:O(e,o,s)};else if(9===r)n={deviceName:O(e,o,s)};else if(10===r||11===r||12===r||13===r||14===r||15===r)n={metaTypeByte:E(r),text:O(e,o,s)};else if(32===r)n={channelPrefix:e.getUint8(o)};else if(33===r)n={midiPort:e.getUint8(o)};else if(47===r)n={endOfTrack:!0};else if(81===r)n={setTempo:{microsecondsPerQuarter:(e.getUint8(o)<<16)+(e.getUint8(o+1)<<8)+e.getUint8(o+2)}};else if(84===r){let t;const r=e.getUint8(o);0==(96&r)?t=24:32==(96&r)?t=25:64==(96&r)?t=29:96==(96&r)&&(t=30),n={smpteOffset:{frame:e.getUint8(o+3),frameRate:t,hour:31&r,minutes:e.getUint8(o+1),seconds:e.getUint8(o+2),subFrame:e.getUint8(o+4)}}}else if(88===r)n={timeSignature:{denominator:Math.pow(2,e.getUint8(o+1)),metronome:e.getUint8(o+2),numerator:e.getUint8(o),thirtyseconds:e.getUint8(o+3)}};else if(89===r)n={keySignature:{key:e.getInt8(o),scale:e.getInt8(o+1)}};else{if(127!==r)throw new Error('Cannot parse a meta event with a type of "'.concat(E(r),'"'));n={sequencerSpecificData:M(e,o,s)}}return{event:n,offset:o+s}},P=(e,t,n,r)=>{const o=0==(128&e)?r:null,s=(null===o?e:o)>>4;let i,a=null===o?n:n-1;if(8===s)i={noteOff:{noteNumber:t.getUint8(a),velocity:t.getUint8(a+1)}},a+=2;else if(9===s){const e=t.getUint8(a),n=t.getUint8(a+1);i=0===n?{noteOff:{noteNumber:e,velocity:n}}:{noteOn:{noteNumber:e,velocity:n}},a+=2}else if(10===s)i={keyPressure:{noteNumber:t.getUint8(a),pressure:t.getUint8(a+1)}},a+=2;else if(11===s)i={controlChange:{type:t.getUint8(a),value:t.getUint8(a+1)}},a+=2;else if(12===s)i={programChange:{programNumber:t.getUint8(a)}},a+=1;else if(13===s)i={channelPressure:{pressure:t.getUint8(a)}},a+=1;else{if(14!==s)throw new Error('Cannot parse a midi event with a type of "'.concat(E(s),'"'));i={pitchBend:t.getUint8(a)|t.getUint8(a+1)<<7},a+=2}return i.channel=15&(null===o?e:o),{event:i,offset:a}},A=(e,t)=>{const{offset:n,value:r}=L(e,t);return{event:{sysex:M(e,n,r)},offset:n+r}},C=(e,t)=>{if("MTrk"!==O(e,t,4))throw new Error('Unexpected characters "'.concat(O(e,t,4),'" found instead of "MTrk"'));const n=[],r=e.getUint32(t+4)+t+8;let o=null,s=t+8;for(;s<r;){const t=N(e,s,o),{event:r,eventTypeByte:i}=t;n.push(r),s=t.offset,void 0!==r.channel&&(128&i)>0&&(o=i)}return{offset:s,track:n}},L=(e,t)=>{let n=t,r=0;for(;;){const t=e.getUint8(n);if(n+=1,!(t>127))return r+=t,{offset:n,value:r};r+=127&t,r<<=7}};x(self,{parse:e=>{let{arrayBuffer:t}=e;const n=(e=>{const t=new DataView(e),n=T(t);let r=14;const o=[];for(let e=0,s=n.numberOfTracks;e<s;e+=1){let e;({offset:r,track:e}=C(t,r)),o.push(e)}return{division:n.division,format:n.format,tracks:o}})(t);return{result:n}}})})()})();`; // tslint:disable-line:max-line-length
